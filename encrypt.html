<html>
<head>
	<script language="javaScript">
	
	var alpha = [ "a", 
	              "b",  
	              "c",  
	              "d",
				  "e", 
	              "f",
				  "g", 
	              "h",
				  "i", 
	              "j",
				  "k", 
	              "l",
				  "m", 
	              "n",
				  "o", 
	              "p",
				  "q", 
	              "r",
				  "s", 
	              "t",
				  "u", 
	              "v",
				  "w", 
	              "x",
				  "y", 
	              "z",
				  " "
				];
				
				
	var scrambled = [ "q",
					"n", 
	                "x",  
	                "i",  
	                "m",
				    "b", 
	                "p", 
				    "y", 
	                "a",
				    "o", 
	                "z",
				    "f", 
	                "l",				     
	                "v",
				    "e", 
	                "c",
				    "d", 
	                "r",
				    "j", 
	                "t",
				    "h", 
	                "s",
			 	    "u", 
	                "g",
				    "k", 
	                "w"
				];
	var numberList;
	function secretMessage()
	{
		//What should the "Encrypt" button do if...
		//     ... the unencrypt text boxes has data, and the encrypt text box is empty?
		//     ... the encrypt text boxes has data, and the unencrypt text box is empty?
	
		//What conclusion can we make if...
		//     ... both text boxes are empty?
		//     ... both text boxes have data in them?
		
		
		
		// Test if both text boxes are empty (if statement)
		
	if (document.getElementById("unencrypt").value == "") // English box is empty
	{

		if (document.getElementById("encrypt").value == "") // Scrambled box is empty
		{
			alert("Both boxes are empty");
		}
		else
		{
			decrypt ();
		}
	}
		else  // There's data in the first box
	{
		if (document.getElementById("encrypt").value == "") // Scrambled box is empty
		{
			encrypt();
		}
		else
		{
			alert("Both boxes have data. Please clear boxes");
		}
		
		
		}//	alert("I'm encrypting")
	}
	
	function decrypt()
	{
		var firstBox = document.getElementById("encrypt").value
		
		numberList = new Array(firstBox.length)
		
		var counter = 0;
		while( counter < firstBox.length )
		{
			
			var let = firstBox.substr(counter,1);
			var letIndex = scrambled.indexOf(let);
			numberList[counter] = letIndex;
			
			
			counter++;
		}
		alert(numberList);
		counter = 0;
		var answer = "";
		while( counter < firstBox.length )
		{
			
			var numListValue = numberList[counter];
			answer = answer + alpha[numListValue];
			
			
			counter++;
		}
		document.getElementById("unencrypt").value = answer;
		alert(answer);
	 
	}
	
	
	function encrypt()
	{
		var firstBox = document.getElementById("unencrypt").value;
		numberList = new Array( firstBox.length);
		
		var counter = 0;
		while ( counter < firstBox.length )
		{
		
		
		var letter = firstBox.substr(counter,1);
		var letIndex = alpha.indexOf(letter);
		numberList[ counter ] = letIndex;
		
			counter++;
		}
		alert(numberList);
		counter = 0;
		var answer = ""
		while ( counter < firstBox.length )
		{
			var letIndex = 
			answer = answer + scrambled[ letIndex ];
			
			counter++
		}
			//alert(answer);
		document.getElementById("encrypt").value = answer;

			
	}
	
	
	
	function clearBoxes()
	{
		document.getElementById("unencrypt").value =""; 
		document.getElementById("encrypt").value ="";
		alert("Clearing")
	}
	
	
	</script>
</head>
<body>
	<center>
		<h1>My Encryption App</h1>
		<br/><br/>
		<input type ="button" value="Encrypt" onClick="secretMessage()"/>
		<input type ="button" value="Clear" onClick="clearBoxes()"/>
		<br/><br/>
		
		Unencrypted Message
		<input type = "text" size="40" id="unencrypt"/> 
		
		<br/><br/>
		Encrypted Message
		<input type = "text" size="40" id="encrypt"/> 
	</center>
</body>
</html> 